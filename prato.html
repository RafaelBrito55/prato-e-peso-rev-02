<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Montador de Prato Brasileiro ‚Äì Prato & Peso</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Monte um prato com comida brasileira de verdade, veja quantas calorias ele tem e quanto isso representa da sua meta di√°ria." />

  <style>
    :root {
      --bg: #f5f5f7;
      --bg-alt: #ffffff;
      --primary: #1e5a4d;
      --primary-soft: #e0f3ec;
      --accent: #ffb347;
      --accent-soft: #fff3df;
      --text-main: #222222;
      --text-muted: #666666;
      --border-soft: #e0e0e0;
      --radius-lg: 16px;
      --shadow-soft: 0 16px 40px rgba(15, 23, 42, 0.16);
      --max-width: 1040px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #fdf5ea 0, #f5f5f7 45%, #f0f2f5 100%);
      color: var(--text-main);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    header {
      background: rgba(255, 255, 255, 0.96);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 10px;
      flex-wrap: wrap;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-badge {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: #4b2c15;
      font-size: 0.9rem;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.1);
    }

    .logo-text-main {
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.03em;
    }

    .logo-text-sub {
      font-size: 0.74rem;
      color: var(--text-muted);
    }

    main {
      flex: 1;
      padding: 24px 16px 40px;
    }

    .section {
      max-width: var(--max-width);
      margin: 0 auto;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: #7a4412;
      font-size: 0.75rem;
      font-weight: 500;
      margin-bottom: 12px;
    }

    h1 {
      font-size: 1.6rem;
      margin-bottom: 6px;
    }

    .section-lead {
      font-size: 0.95rem;
      color: var(--text-muted);
      margin-bottom: 18px;
      max-width: 680px;
    }

    .grid-main {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 14px;
      align-items: flex-start;
    }

    .card {
      background: var(--bg-alt);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      border: 1px solid var(--border-soft);
      padding: 16px 18px 18px;
    }

    .card h2 {
      font-size: 1.15rem;
      margin-bottom: 6px;
    }

    .card p {
      font-size: 0.88rem;
    }

    .form-grid {
      margin-top: 10px;
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 10px 12px;
    }

    .form-row {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 0.8fr);
      gap: 10px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.86rem;
    }

    label {
      font-weight: 500;
    }

    .hint {
      font-size: 0.74rem;
      color: var(--text-muted);
    }

    input[type="number"],
    select {
      padding: 8px 9px;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      font-size: 0.9rem;
      background: #f9fafb;
      box-sizing: border-box;
    }

    input[type="number"]:focus,
    select:focus {
      outline: none;
      border-color: #2b7a61;
      box-shadow: 0 0 0 1px rgba(43, 122, 97, 0.1);
    }

    .actions-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    button {
      font-family: inherit;
    }

    .btn-primary {
      background: #155e3b;
      color: #ffffff;
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.18);
    }

    .btn-primary:hover {
      filter: brightness(1.05);
    }

    .btn-secondary {
      background: #f3f4f6;
      color: #111827;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      padding: 8px 14px;
      font-size: 0.86rem;
      cursor: pointer;
    }

    .btn-secondary:hover {
      background: #e5e7eb;
    }

    .error-msg {
      font-size: 0.8rem;
      color: #b91c1c;
      margin-top: 8px;
      display: none;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 0.85rem;
    }

    th,
    td {
      border-bottom: 1px solid #e5e7eb;
      padding: 6px 4px;
      text-align: left;
    }

    th {
      font-weight: 600;
      color: #374151;
    }

    .text-right {
      text-align: right;
    }

    .data-row {
      font-size: 0.85rem;
    }

    .summary-note {
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      background: #f9fafb;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .resultado-total {
      font-size: 0.95rem;
      font-weight: 500;
    }

    .resultado-meta {
      font-size: 0.83rem;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .card-results-header {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 6px;
    }

    .meta-input-row {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 10px;
      align-items: center;
    }

    footer {
      padding: 16px;
      background: #111827;
      color: #e5e7eb;
      font-size: 0.8rem;
      margin-top: auto;
    }

    .footer-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .footer-disclaimer {
      color: #aaaaaa;
      line-height: 1.5;
    }

    /* CTA para o Clube ap√≥s montar o prato */
    .cta-clube-container {
      margin-top: 18px;
      text-align: center;
      display: none; /* aparece s√≥ quando tiver prato */
    }

    .btn-next-clube {
      padding: 9px 18px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #4b2c15;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18);
    }

    .btn-next-clube:hover {
      filter: brightness(1.03);
      transform: translateY(-1px);
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.2);
    }

    .cta-clube-text {
      margin-top: 6px;
      font-size: 0.82rem;
      color: var(--text-muted);
    }

    @media (max-width: 880px) {
      .grid-main {
        grid-template-columns: minmax(0, 1fr);
      }

      .meta-input-row {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 640px) {
      main {
        padding-inline: 12px;
      }

      .header-inner {
        padding-inline: 10px;
        flex-direction: row;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <div>
    <header>
      <div class="header-inner">
        <a href="index.html" class="logo">
          <div class="logo-badge">P&amp;P</div>
          <div>
            <div class="logo-text-main">Prato &amp; Peso</div>
            <div class="logo-text-sub">Comida de verdade, meta clara</div>
          </div>
        </a>
      </div>
    </header>

    <main>
      <section class="section">
        <div class="tag">
          üçΩÔ∏è Ferramenta 3 &nbsp;‚Ä¢&nbsp; Montador de Prato Brasileiro
        </div>
        <h1>Monte seu prato com comida de verdade</h1>
        <p class="section-lead">
          Escolha alimentos t√≠picos de prato brasileiro, ajuste as quantidades em por√ß√µes simples (colher,
          concha, unidade) e veja <strong>quantas calorias seu prato tem</strong> e quanto isso representa da sua meta
          di√°ria.
        </p>

        <div class="grid-main">
          <!-- LADO ESQUERDO: FORMUL√ÅRIO -->
          <article class="card">
            <h2>1. Adicione alimentos ao prato</h2>

            <p style="font-size:0.87rem;">
              Comece pelos b√°sicos (arroz, feij√£o, carne, ovo) e depois v√° refinando. A ideia √© representar a
              realidade do seu dia a dia.
            </p>

            <form class="form-grid" onsubmit="return false;">
              <div class="form-row">
                <div class="form-group">
                  <label for="alimento-select">Alimento</label>
                  <select id="alimento-select">
                    <option value="">Selecione...</option>
                    <option value="arroz">Arroz branco cozido</option>
                    <option value="feijao">Feij√£o carioca cozido</option>
                    <option value="bife">Bife bovino grelhado</option>
                    <option value="frango">Frango grelhado</option>
                    <option value="ovo-frito">Ovo frito</option>
                    <option value="ovo-cozido">Ovo cozido</option>
                    <option value="salada">Salada verde</option>
                    <option value="farofa">Farofa</option>
                    <option value="batata-cozida">Batata cozida</option>
                    <option value="batata-frita">Batata frita</option>
                    <option value="macarrao">Macarr√£o alho e √≥leo</option>
                    <option value="feijoada">Feijoada</option>
                    <option value="linguica">Lingui√ßa assada</option>
                    <option value="couve">Couve refogada</option>
                    <option value="arroz-integral">Arroz integral cozido</option>
                    <option value="banana">Banana prata</option>
                    <option value="pao-frances">P√£o franc√™s</option>
                    <option value="cafe-com-acucar">Caf√© com a√ß√∫car</option>
                  </select>
                  <div class="hint" id="alimento-info">
                    Escolha um alimento para ver a por√ß√£o padr√£o e as calorias aproximadas.
                  </div>
                </div>

                <div class="form-group">
                  <label for="quantidade">Quantidade (em por√ß√µes)</label>
                  <input type="number" id="quantidade" min="0" step="0.5" placeholder="Ex.: 1, 1,5, 2" />
                  <div class="hint">
                    Ex.: 1 = por√ß√£o padr√£o, 2 = o dobro, 0,5 = metade.
                  </div>
                </div>
              </div>

              <div class="actions-row">
                <button id="btn-adicionar" class="btn-primary">Adicionar ao prato</button>
                <button id="btn-limpar-prato" class="btn-secondary" type="button">Limpar prato</button>
              </div>

              <div class="error-msg" id="erro-mensagem"></div>
            </form>
          </article>

          <!-- LADO DIREITO: RESULTADOS -->
          <article class="card">
            <div class="card-results-header">
              <h2>2. Resultado do seu prato</h2>

              <div class="meta-input-row">
                <div class="form-group">
                  <label for="meta-diaria">Meta di√°ria de calorias (opcional)</label>
                  <input type="number" id="meta-diaria" min="800" max="6000" />
                  <div class="hint">
                    Ex.: 1.900 kcal/dia (voc√™ pode pegar da calculadora TDEE).
                  </div>
                </div>
                <div class="resultado-total">
                  <div><strong>Total do prato:</strong> <span id="total-kcal">0 kcal</span></div>
                  <div class="resultado-meta" id="texto-meta">
                    Informe uma meta di√°ria para ver o percentual.
                  </div>
                </div>
              </div>
            </div>

            <div style="overflow-x:auto; margin-top:4px;">
              <table>
                <thead>
                  <tr>
                    <th>Alimento</th>
                    <th class="text-right">Por√ß√µes</th>
                    <th class="text-right">kcal (aprox.)</th>
                  </tr>
                </thead>
                <tbody id="tabela-itens">
                  <tr id="msg-vazio">
                    <td colspan="3">
                      <span id="msg-vazio-texto">
                        Nenhum alimento no prato ainda. Comece adicionando arroz, feij√£o, bife, ovo... o que voc√™ realmente
                        come.
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="summary-note">
              Use esse prato como refer√™ncia, compare com sua meta di√°ria e veja se precisa ajustar mais na quantidade ou
              nos alimentos.
            </div>
          </article>
        </div>

        <!-- CTA para o Clube (aparece s√≥ depois de montar o prato) -->
        <div class="cta-clube-container" id="cta-clube-prato">
          <button type="button" class="btn-next-clube" id="btn-ir-clube-apos-prato">
            Ir para o Clube Pratos &amp; Pesos, e aumentar sua performance
          </button>
          <p class="cta-clube-text">
            No Clube voc√™ organiza seus pratos, metas e relat√≥rios em um painel s√≥.
          </p>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-inner">
        <div class="footer-disclaimer">
          <strong>Aviso importante:</strong><br />
          Os valores de calorias s√£o aproximados, baseados em por√ß√µes m√©dias e podem variar conforme forma de preparo,
          marcas e por√ß√µes reais.
        </div>
        <div>
          ¬© <span id="ano-atual"></span> Prato &amp; Peso ‚Äì Ferramentas simples para quem quer emagrecer comendo comida de
          verdade.
        </div>
      </div>
    </footer>
  </div>

  <script>
    // Atualiza ano no rodap√©
    document.getElementById("ano-atual").textContent = new Date().getFullYear();

    // Tabela de alimentos (por√ß√µes aproximadas)
    const ALIMENTOS = {
      "arroz": {
        nome: "Arroz branco cozido",
        porcao: "1 colher de servir (~50 g)",
        kcalPorPorcao: 65
      },
      "feijao": {
        nome: "Feij√£o carioca cozido",
        porcao: "1 concha pequena (~80 g)",
        kcalPorPorcao: 70
      },
      "bife": {
        nome: "Bife bovino grelhado",
        porcao: "1 peda√ßo m√©dio (~80 g)",
        kcalPorPorcao: 200
      },
      "frango": {
        nome: "Peito de frango grelhado",
        porcao: "1 fil√© m√©dio (~100 g)",
        kcalPorPorcao: 165
      },
      "ovo-frito": {
        nome: "Ovo de galinha frito",
        porcao: "1 unidade m√©dia",
        kcalPorPorcao: 110
      },
      "ovo-cozido": {
        nome: "Ovo de galinha cozido",
        porcao: "1 unidade m√©dia",
        kcalPorPorcao: 80
      },
      "salada": {
        nome: "Salada verde (alface, tomate, cenoura)",
        porcao: "1 prato de sobremesa",
        kcalPorPorcao: 25
      },
      "farofa": {
        nome: "Farofa simples",
        porcao: "1 colher de sopa cheia (~20 g)",
        kcalPorPorcao: 70
      },
      "batata-cozida": {
        nome: "Batata inglesa cozida",
        porcao: "1 unidade m√©dia (~80 g)",
        kcalPorPorcao: 60
      },
      "macarrao": {
        nome: "Macarr√£o alho e √≥leo",
        porcao: "1 concha m√©dia (~80 g)",
        kcalPorPorcao: 140
      },
      "batata-frita": {
        nome: "Batata frita",
        porcao: "1 por√ß√£o pequena (~80 g)",
        kcalPorPorcao: 160
      },
      "feijoada": {
        nome: "Feijoada",
        porcao: "1 concha m√©dia (~120 g)",
        kcalPorPorcao: 220
      },
      "linguica": {
        nome: "Lingui√ßa assada",
        porcao: "1 unidade m√©dia (~60 g)",
        kcalPorPorcao: 180
      },
      "couve": {
        nome: "Couve refogada",
        porcao: "1 colher de servir (~40 g)",
        kcalPorPorcao: 45
      },
      "arroz-integral": {
        nome: "Arroz integral cozido",
        porcao: "1 colher de servir (~50 g)",
        kcalPorPorcao: 60
      },
      "banana": {
        nome: "Banana prata",
        porcao: "1 unidade m√©dia",
        kcalPorPorcao: 90
      },
      "pao-frances": {
        nome: "P√£o franc√™s",
        porcao: "1 unidade m√©dia (~50 g)",
        kcalPorPorcao: 135
      },
      "cafe-com-acucar": {
        nome: "Caf√© com a√ß√∫car",
        porcao: "1 x√≠cara pequena (50 ml)",
        kcalPorPorcao: 25
      }
    };

    // Estado do prato
    let itensPrato = [];

    // Elementos
    const selectAlimento = document.getElementById("alimento-select");
    const campoQuantidade = document.getElementById("quantidade");
    const infoAlimento = document.getElementById("alimento-info");
    const erroMensagem = document.getElementById("erro-mensagem");

    const tabelaItens = document.getElementById("tabela-itens");
    const totalKcalSpan = document.getElementById("total-kcal");
    const metaDiariaInput = document.getElementById("meta-diaria");
    const textoMeta = document.getElementById("texto-meta");

    const btnAdicionar = document.getElementById("btn-adicionar");
    const btnLimparPrato = document.getElementById("btn-limpar-prato");

    const ctaClubePrato = document.getElementById("cta-clube-prato");
    const btnIrClubeAposPrato = document.getElementById("btn-ir-clube-apos-prato");

    function formatNumber(num, casas = 1) {
      return num.toLocaleString("pt-BR", { minimumFractionDigits: casas, maximumFractionDigits: casas });
    }

    function atualizarInfoAlimento() {
      const id = selectAlimento.value;
      const alimento = ALIMENTOS[id];

      if (!alimento) {
        infoAlimento.textContent = "Escolha um alimento para ver a por√ß√£o padr√£o e as calorias aproximadas.";
        return;
      }

      infoAlimento.textContent = `${alimento.nome} ‚Äì ${alimento.porcao} ‚âà ${alimento.kcalPorPorcao} kcal`;
    }

    function atualizarTabela() {
      tabelaItens.innerHTML = "";
      let totalKcal = 0;

      if (!itensPrato.length) {
        const tr = document.createElement("tr");
        const td = document.createElement("td");
        td.colSpan = 3;
        td.textContent = "Nenhum alimento no prato ainda. Comece adicionando arroz, feij√£o, bife, ovo... o que voc√™ realmente come.";
        tr.appendChild(td);
        tabelaItens.appendChild(tr);
      } else {
        itensPrato.forEach((item) => {
          totalKcal += item.kcal;

          const tr = document.createElement("tr");
          tr.className = "data-row";

          const tdNome = document.createElement("td");
          tdNome.textContent = item.nome;

          const tdQtd = document.createElement("td");
          tdQtd.className = "text-right";
          tdQtd.textContent = formatNumber(item.quantidade, 1);

          const tdKcal = document.createElement("td");
          tdKcal.className = "text-right";
          tdKcal.textContent = formatNumber(item.kcal, 0);

          tr.appendChild(tdNome);
          tr.appendChild(tdQtd);
          tr.appendChild(tdKcal);

          tabelaItens.appendChild(tr);
        });
      }

      totalKcalSpan.textContent = `${formatNumber(totalKcal, 0)} kcal`;
      atualizarPercentualMeta();

      // controla exibi√ß√£o do CTA do Clube
      if (itensPrato.length > 0) {
        ctaClubePrato.style.display = "block";
      } else {
        ctaClubePrato.style.display = "none";
      }
    }

    function atualizarPercentualMeta() {
      const meta = Number(String(metaDiariaInput.value || "0").replace(",", "."));
      const totalTexto = totalKcalSpan.textContent || "0";
      const numeroTotal = Number(totalTexto.replace(/[^\d,.-]/g, "").replace(".", "").replace(",", "."));

      if (!meta || meta <= 0) {
        textoMeta.textContent = "Informe uma meta di√°ria para ver o percentual.";
        return;
      }

      if (!numeroTotal || numeroTotal <= 0) {
        textoMeta.textContent = "Adicione alimentos ao prato para ver o percentual da meta.";
        return;
      }

      const percentual = (numeroTotal / meta) * 100;
      const percStr = percentual.toLocaleString("pt-BR", { minimumFractionDigits: 1, maximumFractionDigits: 1 });

      let classificacao = "";
      if (percentual < 25) classificacao = "baixo para uma refei√ß√£o principal";
      else if (percentual < 50) classificacao = "uma refei√ß√£o moderada";
      else if (percentual < 75) classificacao = "uma refei√ß√£o mais pesada";
      else classificacao = "muito pesado para uma √∫nica refei√ß√£o";

      textoMeta.textContent = `Este prato representa cerca de ${percStr}% da sua meta di√°ria ‚Äì ${classificacao}.`;
    }

    // Listeners principais
    selectAlimento.addEventListener("change", atualizarInfoAlimento);

    metaDiariaInput.addEventListener("input", function () {
      atualizarPercentualMeta();
    });

    btnAdicionar.addEventListener("click", function () {
      erroMensagem.style.display = "none";

      const id = selectAlimento.value;
      const alimento = ALIMENTOS[id];

      if (!alimento) {
        erroMensagem.textContent = "Selecione um alimento antes de adicionar.";
        erroMensagem.style.display = "block";
        return;
      }

      const qtdVal = Number(String(campoQuantidade.value).replace(",", "."));

      if (!qtdVal || qtdVal <= 0) {
        erroMensagem.textContent = "Informe a quantidade de por√ß√µes (ex.: 1, 1,5, 2).";
        erroMensagem.style.display = "block";
        return;
      }

      const kcalItem = alimento.kcalPorPorcao * qtdVal;

      itensPrato.push({
        id,
        nome: alimento.nome,
        quantidade: qtdVal,
        kcal: kcalItem,
      });

      campoQuantidade.value = "";
      atualizarTabela();
    });

    btnLimparPrato.addEventListener("click", function () {
      itensPrato = [];
      atualizarTabela();
      erroMensagem.style.display = "none";
    });

    // CTA do Clube ‚Äì leva para o painel
    btnIrClubeAposPrato.addEventListener("click", function () {
      window.location.href = "clube.html";
    });

    // Inicial
    atualizarTabela();
    atualizarInfoAlimento();
  </script>
</body>
</html>
